# Pytris

`pygame`を使用してPythonで作成された、モダンな仕様のテトリスゲームです。

## 概要

このプロジェクトは、T-Spin、ホールド、7-bagシステム、SRS（Super Rotation System）など、現代のテトリスゲームで一般的な多くの機能を実装したクローンです。
複数のゲームモードを搭載しており、タイムアタック、スコアアタック、高難易度チャレンジ、お邪魔ブロックとの戦いなどを楽しむことができます。

## 主な機能

* **モダンな操作体系:**
    * SRS（スーパーローテーションシステム）による直感的な回転とウォールキック
    * ハードドロップ、ソフトドロップ
    * ホールド機能
    * DAS (遅延オートシフト) / ARR (オートリピートレート) による高速な左右移動
    * ロックディレイ (接地後の操作猶予)
    * ARE (固定後の待機時間) 中の先行入力
* **ゲームシステム:**
    * 7-bagシステム (7種類のミノが1セットで出現)
    * 5つのネクストキュー
    * ゴーストピースの表示
    * T-Spin (FULL / MINI) 判定
    * Back-to-Back (B2B)
    * REN (コンボ)
    * Perfect Clear (全消し) 判定

## ゲームモード

### 1. MARATHON
ラインを消し続けるモードです。

* **150 LINES:** 150ラインの消去を目指します。
* **ENDLESS:** 終了条件のないエンドレスモード。スコアを競います。レベルアップ（10ラインごと）すると落下速度が上昇します。

### 2. SPRINT
**40ライン**をどれだけ速く消去できるかを競うタイムアタックモードです。

### 3. APEX
T○M風の高難易度モードです。
レベル999到達を目指します。
レベルが上がるにつれて落下速度が上昇し（レベル500以降は20Gに到達）、操作の猶予時間（AREやロックディレイ）も短くなっていきます。

### 4. GAUNTLET
時間経過で下からお邪魔ブロックがせり上がってくるサバイバルモードです。

* ライン消去やT-Spinで「攻撃」し、お邪魔ブロックのせり上がりを相殺できます。
* **5段階の難易度** (EASY, NORMAL, HARD, EXTREME, THE SUN) があり、難易度が上がるとお邪魔の速度と量が増加します。
* レベル進行は自身の余剰攻撃が反映されます。

## 操作方法

| キー | アクション |
| :--- | :--- |
| `←` / `→` | 左右移動 (長押しでDAS/ARR) |
| `↓` | ソフトドロップ |
| `↑` / `X` | 右回転 (CW) |
| `Z` / `Ctrl` | 左回転 (CCW) |
| `スペース` | ハードドロップ |
| `C` / `Shift` | ホールド |
| `R` | ゲームリスタート (全モード共通) |
| `Esc` | メニューに戻る (モード・難易度選択時) |

## 必要なライブラリ

* **Pygame**

```bash
pip install pygame
````

## 実行方法

リポジトリをクローンまたはダウンロードした後、`tetris.py`ファイルを実行してください。

```bash
python tetris.py
```

## ライセンス

このプロジェクトは **MIT License** の下で公開されています。
